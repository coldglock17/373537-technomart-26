var cartLink=document.querySelector(".buy-button"),cartPopup=document.querySelector(".modal-cart"),cartClose=cartPopup.querySelector(".cart-close");cartLink.addEventListener("click",function(e){e.preventDefault(),cartPopup.classList.remove("visually-hidden")}),cartClose.addEventListener("click",function(e){e.preventDefault(),cartPopup.classList.add("visually-hidden")});var writeLink=document.querySelector(".write-us"),writeForm=document.querySelector(".pop-up"),writeClose=writeForm.querySelector(".form-close"),writeName=writeForm.querySelector("[name=name]"),writeFormValid=writeForm.querySelector("form"),emailForm=writeForm.querySelector("[name=email]"),commentForm=writeForm.querySelector("[name=comment]"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("name")}catch(e){isStorageSupport=!1}writeLink.addEventListener("click",function(e){e.preventDefault(),writeForm.classList.remove("visually-hidden"),writeForm.classList.add("modal-animation"),writeName.focus(),storage?(writeName.value=storage,emailForm.focus()):writeName.focus()}),writeClose.addEventListener("click",function(e){e.preventDefault(),writeForm.classList.add("visually-hidden"),writeForm.classList.remove("modal-error"),writeForm.classList.remove("modal-animation")}),writeFormValid.addEventListener("submit",function(e){writeName.value&&emailForm.value&&commentForm.value?isStorageSupport&&localStorage.setItem("name",writeName.value):(e.preventDefault(),writeForm.classList.remove("modal-error"),writeForm.offsetWidth=writeForm.offsetWidth,writeForm.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),writeForm.classList.add("visually-hidden"),writeForm.classList.remove("modal-error"),writeForm.classList.remove("modal-animation"))});var mapLink=document.querySelector(".map-open"),mapPopup=document.querySelector(".modal-map"),mapClose=mapPopup.querySelector(".map-close");mapLink.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("visually-hidden")}),mapClose.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("visually-hidden")});